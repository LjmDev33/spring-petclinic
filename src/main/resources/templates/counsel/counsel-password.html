<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div class="container mt-5 mb-5" style="max-width: 820px; min-height: 60vh;">
  <div class="row justify-content-center">
    <div class="col-md-10">
      <!-- 제목 -->
      <h3 class="mb-4 text-center">
        <i class="bi bi-lock-fill text-warning"></i> 비공개 게시글
      </h3>

      <!-- 게시글 제목 카드 -->
      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <h5 class="card-title mb-0" th:text="${post.title}">제목</h5>
        </div>
      </div>

      <!-- 안내 메시지 -->
      <div class="alert alert-warning" role="alert">
        <i class="bi bi-shield-lock"></i>
        <strong>비밀글 기능으로 보호된 글입니다.</strong>
        <p class="mb-0 mt-2">작성자와 관리자만 열람하실 수 있습니다. 본인이라면 비밀번호를 입력하세요.</p>
      </div>

      <!-- 비밀번호 입력 폼 -->
      <form th:action="@{/counsel/detail/{id}/unlock(id=${post.id})}" method="post">
        <div class="card shadow-sm">
          <div class="card-body">
            <div class="mb-3">
              <label for="password" class="form-label">
                <i class="bi bi-key"></i> 비밀번호 <span class="text-danger">*</span>
              </label>
              <input type="password"
                     id="password"
                     name="password"
                     class="form-control form-control-lg"
                     placeholder="비밀번호를 입력하세요"
                     style="font-size: 0.95rem;"
                     autofocus
                     required>
              <small class="form-text text-muted">게시글 작성 시 설정한 비밀번호를 입력하세요.</small>
            </div>

            <!-- 오류 메시지 -->
            <div th:if="${fail}" class="alert alert-danger mb-3" role="alert">
              <i class="bi bi-exclamation-triangle-fill"></i>
              비밀번호가 올바르지 않습니다. 다시 시도해주세요.
            </div>

            <!-- 버튼: 통일된 UI 규칙 적용 -->
            <div class="d-flex justify-content-end" style="gap: 8px;">
              <a th:href="@{/counsel/list}"
                 class="btn btn-secondary"
                 style="height: 42px; min-width: 110px; display: flex; align-items: center; justify-content: center;">
                <i class="bi bi-arrow-left me-1"></i> 목록
              </a>
              <button type="submit"
                      class="btn btn-primary"
                      style="height: 42px; min-width: 110px; display: flex; align-items: center; justify-content: center;">
                <i class="bi bi-unlock me-1"></i> 확인
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
</body>
</html>

